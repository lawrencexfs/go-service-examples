2019-10-30 18:03:01.317 [INF] [app.go:204] services[gateway team]
2019-10-30 18:03:01.387 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:03:01.388 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:03:01.388 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:03:01.494 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:03:01.494 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:03:01.494 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:03:01.494 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:03:01.495 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:03:01.496 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:03:01.496 [DBG] [localService.go:68] service check : team
2019-10-30 18:03:01.496 [DBG] [localService.go:96] service check success: team
2019-10-30 18:03:01.496 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:03:01.496 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:03:01.557 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:03:01.557 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:03:01.558 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc0001ef3e0]
2019-10-30 18:03:04.467 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0002b2630
2019-10-30 18:03:04.467 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:03:04.468 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:03:04.468 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:03:04.468 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:03:04.468 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:03:04.468 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Level:1 rating:1]
2019-10-30 18:03:04.484 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:03:04.488 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:03:04.488 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}}]
2019-10-30 18:03:04.488 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:03:04.488 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:03:04.488 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:03:04.489 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:03:04.49 [DBG] [GatewayUserRpc.go:26] RPCHello, name: hello world, id: 1
2019-10-30 18:03:04.49 [DBG] [GatewayUserRpc.go:62] RPCCreateTeam, name: TestTeam
2019-10-30 18:03:04.49 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:03:04.491 [DBG] [GatewayUserRpc.go:36] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:03:04.491 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:03:04.491 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:03:04.491 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:03:04.492 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:runtime error: invalid memory address or nil pointer dereference, methodName: ModifyAttr, goroutine 52 [running]:
runtime/debug.Stack(0xc000363860, 0xafeb60, 0x11c13c0)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc0001b6370, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xafeb60, 0x11c13c0)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).GetProp(0xc0002ea010, 0xbbdfe0, 0x5, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:83 +0x61
entity-call-entity/src/entitydef.(*PlayerDef).Getheros(0xc0002ea000, 0xbbf96d)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:92 +0x53
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002ea000, 0xc000019190, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:51 +0x37f
reflect.Value.call(0xbba2a0, 0xc0002ea000, 0x10213, 0xbbd07b, 0x4, 0xc000322480, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba2a0, 0xc0002ea000, 0x10213, 0xc000322480, 0x3, 0x4, 0xc000322480, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002ea010, 0xc0001b6370, 0xa, 0xc0000f73a0, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002ea010, 0xc0001b6370, 0xa, 0xc0000f73a0, 0x15, 0x15, 0x0, 0x10, 0xc000077ed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002ea010, 0xc0001bac00)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002ea010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:03:04.506 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:03:04.507 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:03:04.507 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:03:04.542 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:03:04.553 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:03:04.553 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc000047680]
2019-10-30 18:03:04.557 [DBG] [GatewayUserRpc.go:75] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:03:05.557 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:03:05.557 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:03:05.713 [ERR] [session.go:286] recvLoop error: read tcp 127.0.0.1:17000->127.0.0.1:51165: wsarecv: An existing connection was forcibly closed by the remote host., remoteAddr: 127.0.0.1:51165, sessionid: 1, localAddr: 127.0.0.1:17000
2019-10-30 18:03:05.714 [ERR] [session.go:298] read and handle message error: read tcp 127.0.0.1:17000->127.0.0.1:51165: wsarecv: An existing connection was forcibly closed by the remote host., remoteAddr: 127.0.0.1:51165,  localAddr: 127.0.0.1:17000, sessionid: 1
2019-10-30 18:03:05.716 [DBG] [ProcGateway.go:171] PGatewayServer OnClosed, ID: 1, sess: 0xc0002b2630
2019-10-30 18:03:05.722 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:03:05.722 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:03:05.735 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:05:10.691 [INF] [app.go:204] services[gateway team]
2019-10-30 18:05:10.761 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:05:10.762 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:05:10.762 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:05:10.873 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:05:10.873 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:05:10.873 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:05:10.873 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:05:10.873 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:05:10.874 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:05:10.874 [DBG] [localService.go:68] service check : team
2019-10-30 18:05:10.874 [DBG] [localService.go:96] service check success: team
2019-10-30 18:05:10.874 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:05:10.874 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:05:10.94 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:05:10.94 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:05:10.94 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc0000f9e80]
2019-10-30 18:05:13.716 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc000210c00
2019-10-30 18:05:13.716 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:05:13.716 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:05:13.716 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:05:13.716 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:05:13.716 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:05:13.716 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Level:1 rating:1]
2019-10-30 18:05:13.732 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:05:13.734 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:05:13.734 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}}]
2019-10-30 18:05:13.734 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:05:13.734 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:05:13.734 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:05:13.735 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:05:13.735 [DBG] [GatewayUserRpc.go:26] RPCHello, name: hello world, id: 1
2019-10-30 18:05:13.735 [DBG] [GatewayUserRpc.go:62] RPCCreateTeam, name: TestTeam
2019-10-30 18:05:13.735 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:05:13.736 [DBG] [GatewayUserRpc.go:36] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:05:13.737 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:05:13.737 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:05:13.737 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:05:13.738 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:runtime error: invalid memory address or nil pointer dereference, methodName: ModifyAttr, goroutine 13 [running]:
runtime/debug.Stack(0xc000373860, 0xafeb60, 0x11c13c0)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc000019090, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xafeb60, 0x11c13c0)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).GetProp(0xc000088b10, 0xbbd127, 0x4, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:83 +0x61
entity-call-entity/src/entitydef.(*PlayerDef).GetHero(0xc000088b00, 0xbbf96c)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:72 +0x53
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc000088b00, 0xc0000190a0, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:51 +0x37f
reflect.Value.call(0xbba2a0, 0xc000088b00, 0x10213, 0xbbd07b, 0x4, 0xc0003667e0, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba2a0, 0xc000088b00, 0x10213, 0xc0003667e0, 0x3, 0x4, 0xc0003667e0, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc000088b10, 0xc000019090, 0xa, 0xc00001b0a0, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc000088b10, 0xc000019090, 0xa, 0xc00001b0a0, 0x15, 0x15, 0x0, 0x10, 0xc0002dfed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc000088b10, 0xc000337b20)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc000088b10)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:05:13.752 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:05:13.753 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:05:13.753 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:05:13.793 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:05:13.798 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:05:13.798 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc000046f80]
2019-10-30 18:05:13.807 [DBG] [GatewayUserRpc.go:75] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:05:14.94 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:05:14.94 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:05:16.94 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:05:16.94 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:05:17.033 [DBG] [app.go:158] App.destory
2019-10-30 18:05:17.033 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:05:17.034 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:05:17.045 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:05:17.045 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:05:17.045 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:05:17.049 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:05:17.051 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:05:17.055 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:05:17.055 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:05:17.055 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:05:17.057 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:05:17.062 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:05:17.064 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:05:17.064 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:05:17.065 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:10:31.477 [INF] [app.go:204] services[gateway team]
2019-10-30 18:10:31.547 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:10:31.548 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:10:31.548 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:10:31.657 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:10:31.657 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:10:31.658 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:10:31.658 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:10:31.658 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:10:31.659 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:10:31.659 [DBG] [localService.go:68] service check : team
2019-10-30 18:10:31.659 [DBG] [localService.go:96] service check success: team
2019-10-30 18:10:31.659 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:10:31.659 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:10:31.724 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:10:31.724 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:10:31.725 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc00005f120]
2019-10-30 18:10:34.638 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0002b2c00
2019-10-30 18:10:34.638 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:10:34.639 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:10:34.639 [DBG] [GatewayUserRpc.go:26] RPCHello, name: hello world, id: 1
2019-10-30 18:10:34.64 [DBG] [GatewayUserRpc.go:62] RPCCreateTeam, name: TestTeam
2019-10-30 18:10:34.64 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:10:34.64 [DBG] [GatewayUserRpc.go:36] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:10:34.641 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:no def file exist Level, methodName: ModifyAttr, goroutine 67 [running]:
runtime/debug.Stack(0xc0002e1888, 0xaefca0, 0xc0001f5240)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc0001feb60, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefca0, 0xc0001f5240)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc00009c6f0, 0xbbdb48, 0x5, 0xac1d40, 0xc0001feba0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:63 +0x4c8
entity-call-entity/src/entitydef.(*PlayerDef).SetLevel(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:84
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc00009c6e0, 0xc0001feb70, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:36 +0x1df
reflect.Value.call(0xbba2a0, 0xc00009c6e0, 0x10213, 0xbbd07b, 0x4, 0xc0002d25a0, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba2a0, 0xc00009c6e0, 0x10213, 0xc0002d25a0, 0x3, 0x4, 0xc0002d25a0, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc00009c6f0, 0xc0001feb60, 0xa, 0xc0002429a0, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc00009c6f0, 0xc0001feb60, 0xa, 0xc0002429a0, 0x15, 0x15, 0x0, 0x10, 0xc0002e1ed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc00009c6f0, 0xc00018d740)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc00009c6f0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:10:34.641 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:10:34.644 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:10:34.646 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:10:34.658 [DBG] [GatewayUserRpc.go:75] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:10:35.724 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:10:35.724 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:10:37.724 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:10:37.724 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:10:39.725 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:10:39.725 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:10:41.725 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:10:41.725 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:10:41.843 [DBG] [app.go:158] App.destory
2019-10-30 18:10:41.843 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:10:41.844 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:10:41.855 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:10:41.855 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:10:41.855 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:10:41.855 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:10:41.855 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:10:41.864 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:10:41.866 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:10:41.868 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:10:41.875 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:10:41.875 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:10:41.882 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:10:41.882 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:10:41.882 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:13:17.333 [INF] [app.go:204] services[gateway team]
2019-10-30 18:13:17.342 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:13:17.389 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:13:17.389 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:13:17.5 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:13:17.5 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:13:17.5 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:13:17.5 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:13:17.501 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:13:17.502 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:13:17.502 [DBG] [localService.go:68] service check : team
2019-10-30 18:13:17.502 [DBG] [localService.go:96] service check success: team
2019-10-30 18:13:17.502 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:13:17.502 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:13:17.569 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:13:17.569 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:13:17.569 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000110220]
2019-10-30 18:13:20.481 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc00023f410
2019-10-30 18:13:20.481 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:13:20.481 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:13:20.498 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:13:20.503 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:13:20.503 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:13:20.503 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:13:20.503 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:13:20.507 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:13:20.528 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:13:20.528 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:13:20.528 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:13:20.529 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:13:20.587 [DBG] [GatewayUserRpc.go:26] RPCHello, name: hello world, id: 1
2019-10-30 18:13:20.638 [DBG] [GatewayUserRpc.go:62] RPCCreateTeam, name: TestTeam
2019-10-30 18:13:20.639 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:13:20.641 [DBG] [GatewayUserRpc.go:36] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:13:20.642 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:13:20.643 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:13:20.643 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:13:20.644 [DBG] [GatewayUserRpc.go:55] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{[] [2 3] yekoufeng} ,heros: &map[Axiang:{Axiang 1} Caozhi:{Caozhi 1} Liubei:{Liubei 1} Luke:{Luke 1} Menghuo:{Menghuo 1} Sumo:{Sumo 1} Xiahoudun:{Xiahoudun 1} Zhangjiao:{Zhangjiao 1} Zuoci:{Zuoci 1}]
2019-10-30 18:13:20.645 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:13:20.646 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:13:20.646 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:13:20.647 [DBG] [GatewayUserRpc.go:75] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:13:20.687 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:13:20.687 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:13:20.687 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc0002dc900]
2019-10-30 18:13:21.57 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:13:21.57 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:13:23.57 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:13:23.57 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:13:25.57 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:13:25.57 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:13:27.57 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:13:27.57 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:13:27.982 [DBG] [app.go:158] App.destory
2019-10-30 18:13:27.982 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:13:27.983 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:13:27.997 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:13:27.997 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:13:27.998 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:13:27.999 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:13:28 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:13:28.005 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:13:28.007 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:13:28.007 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:13:28.009 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:13:28.009 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:13:28.009 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:13:28.009 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:13:28.01 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:22:33.457 [INF] [app.go:204] services[gateway team]
2019-10-30 18:22:33.53 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:22:33.531 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:22:33.531 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:22:33.639 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:22:33.639 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:22:33.639 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:22:33.639 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:22:33.64 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:22:33.64 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:22:33.64 [DBG] [localService.go:68] service check : team
2019-10-30 18:22:33.64 [DBG] [localService.go:96] service check success: team
2019-10-30 18:22:33.641 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:22:33.641 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:22:33.705 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:22:33.705 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:22:33.706 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc00012d660]
2019-10-30 18:22:36.477 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0001e5e60
2019-10-30 18:22:36.477 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:22:36.477 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:22:36.494 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:22:36.498 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:22:36.498 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:22:36.498 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:22:36.498 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:22:36.499 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:22:36.518 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:22:36.518 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:22:36.518 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:22:36.52 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:22:36.571 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:22:36.58 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:22:36.632 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:22:36.64 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:22:36.642 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 33 [running]:
runtime/debug.Stack(0xc0003ef888, 0xaefca0, 0xc0003b3fc0)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc000018500, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefca0, 0xc0003b3fc0)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc0002c6010, 0xbbd127, 0x4, 0xaaa880, 0xc000092ed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:67 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002c6000, 0xc000184cf0, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x426
reflect.Value.call(0xbba2a0, 0xc0002c6000, 0x10213, 0xbbd07b, 0x4, 0xc0003c07e0, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba2a0, 0xc0002c6000, 0x10213, 0xc0003c07e0, 0x3, 0x4, 0xc0003c07e0, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002c6010, 0xc000018500, 0xa, 0xc00001a700, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002c6010, 0xc000018500, 0xa, 0xc00001a700, 0x15, 0x15, 0x0, 0x10, 0xc0003cbed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002c6010, 0xc0000058a0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002c6010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:22:36.643 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:22:36.66 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:22:36.66 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc00018b0c0]
2019-10-30 18:22:36.687 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:22:36.688 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:22:36.688 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:22:36.705 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:22:36.706 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:22:36.706 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:22:36.707 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:22:37.704 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:22:37.704 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:22:39.704 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:22:39.704 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:22:41.704 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:22:41.704 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:22:43.689 [DBG] [app.go:158] App.destory
2019-10-30 18:22:43.689 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:22:43.69 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:22:43.696 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:22:43.696 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:22:43.696 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:22:43.696 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:22:43.697 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:22:43.698 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:22:43.698 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:22:43.698 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:22:43.698 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:22:43.698 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:22:43.699 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:26:34.033 [INF] [app.go:204] services[gateway team]
2019-10-30 18:26:34.103 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:26:34.103 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:26:34.103 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:26:34.214 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:26:34.214 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:26:34.215 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:26:34.215 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:26:34.215 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:26:34.216 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:26:34.216 [DBG] [localService.go:68] service check : team
2019-10-30 18:26:34.216 [DBG] [localService.go:96] service check success: team
2019-10-30 18:26:34.216 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:26:34.216 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:26:34.281 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:26:34.281 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:26:34.281 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000005960]
2019-10-30 18:26:37.061 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0002da360
2019-10-30 18:26:37.061 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:26:37.061 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:26:37.062 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:26:37.062 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:26:37.062 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:26:37.062 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:26:37.062 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:26:37.078 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:26:37.081 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:26:37.081 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:26:37.081 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:26:37.081 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:26:37.081 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:26:37.081 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:26:37.081 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:26:37.081 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:26:37.082 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:26:37.091 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:26:37.118 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:26:37.191 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:26:37.227 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:26:37.23 [DBG] [GatewayUserRpc.go:64] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{[] [2 3] yekoufeng} ,heros: &map[Axiang:{Axiang 1} Caozhi:{Caozhi 1} Liubei:{Liubei 1} Luke:{Luke 1} Menghuo:{Menghuo 1} Sumo:{Sumo 1} Xiahoudun:{Xiahoudun 1} Zhangjiao:{Zhangjiao 1} Zuoci:{Zuoci 1} yekoufeng:{yekoufeng 2}]
2019-10-30 18:26:37.231 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:26:37.231 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:26:37.231 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc000175e40]
2019-10-30 18:26:37.231 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:26:37.232 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:26:37.232 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:26:37.247 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:26:37.26 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:26:37.265 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:26:37.267 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:26:38.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:38.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:40.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:40.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:42.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:42.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:44.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:44.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:46.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:46.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:48.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:48.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:50.281 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:50.281 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:52.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:52.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:54.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:54.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:56.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:56.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:26:58.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:26:58.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:27:00.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:27:00.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:27:02.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:27:02.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:27:04.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:27:04.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:27:06.28 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:27:06.28 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:27:07.572 [DBG] [app.go:158] App.destory
2019-10-30 18:27:07.572 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:27:07.573 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:27:07.583 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:27:07.583 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:27:07.583 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:27:07.584 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:27:07.584 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:27:07.585 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:27:07.585 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:27:07.585 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:27:07.585 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:27:07.585 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:27:07.585 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:27:07.585 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:27:07.586 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:30:30.261 [INF] [app.go:204] services[gateway team]
2019-10-30 18:30:30.334 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:30:30.335 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:30:30.335 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:30:30.452 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:30:30.452 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:30:30.452 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:30:30.452 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:30:30.452 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:30:30.453 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:30:30.453 [DBG] [localService.go:68] service check : team
2019-10-30 18:30:30.453 [DBG] [localService.go:96] service check success: team
2019-10-30 18:30:30.453 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:30:30.453 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:30:30.522 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:30:30.522 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:30:30.522 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000266680]
2019-10-30 18:30:33.23 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc000280480
2019-10-30 18:30:33.23 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:30:33.23 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:30:33.252 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:30:33.256 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:30:33.257 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:30:33.257 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:30:33.26 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:30:33.26 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:30:33.26 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:30:33.26 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:30:33.26 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:30:33.261 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:30:33.293 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:30:33.356 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:30:33.406 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:30:33.408 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:30:33.41 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:30:33.41 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:30:33.41 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:30:33.41 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 54 [running]:
runtime/debug.Stack(0xc000429888, 0xaefca0, 0xc00043e1d0)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc0001d8a30, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefca0, 0xc00043e1d0)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc0002c6010, 0xbbd127, 0x4, 0xaaa880, 0xc000218630)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:67 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002c6000, 0xc0001d8a50, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x426
reflect.Value.call(0xbba2a0, 0xc0002c6000, 0x10213, 0xbbd07b, 0x4, 0xc000277080, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba2a0, 0xc0002c6000, 0x10213, 0xc000277080, 0x3, 0x4, 0xc000277080, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002c6010, 0xc0001d8a30, 0xa, 0xc0001de8e0, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002c6010, 0xc0001d8a30, 0xa, 0xc0001de8e0, 0x15, 0x15, 0x0, 0x10, 0xc000393ed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002c6010, 0xc0003fc000)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002c6010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:30:33.411 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:30:33.415 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:30:33.42 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:30:33.424 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:30:33.443 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:30:33.443 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:30:33.443 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc0001d6940]
2019-10-30 18:30:34.522 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:30:34.522 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:30:36.522 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:30:36.522 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:30:36.656 [DBG] [app.go:158] App.destory
2019-10-30 18:30:36.656 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:30:36.657 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:30:36.668 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:30:36.668 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:30:36.668 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:30:36.668 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:30:36.671 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:30:36.672 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:30:36.674 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:30:36.674 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:30:36.674 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:30:36.674 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:30:36.674 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:30:36.677 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:30:36.681 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:38:02.192 [INF] [app.go:204] services[gateway team]
2019-10-30 18:38:02.261 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:38:02.261 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:38:02.261 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:38:02.371 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:38:02.371 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:38:02.371 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:38:02.371 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:38:02.372 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:38:02.373 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:38:02.373 [DBG] [localService.go:68] service check : team
2019-10-30 18:38:02.373 [DBG] [localService.go:96] service check success: team
2019-10-30 18:38:02.373 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:38:02.373 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:38:02.439 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:38:02.439 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc0001d8320]
2019-10-30 18:38:02.439 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:38:05.255 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0001f6a80
2019-10-30 18:38:05.255 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:38:05.255 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:38:05.255 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:38:05.255 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:38:05.255 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:38:05.256 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:38:05.256 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:38:05.272 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:38:05.276 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:38:05.276 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:38:05.276 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:38:05.28 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:38:05.28 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:38:05.28 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:38:05.28 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:38:05.308 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:38:05.362 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:38:05.387 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:38:05.422 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:38:05.426 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:38:05.427 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:38:05.428 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:38:05.428 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:38:05.429 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:38:05.432 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 26 [running]:
runtime/debug.Stack(0xc0003c1860, 0xaefd40, 0xc0003e2110)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc000202470, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefd40, 0xc0003e2110)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc0002d2010, 0xbbd227, 0x4, 0xaaa8e0, 0xc0000e8e60)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:67 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002d2000, 0xc0000ed170, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x477
reflect.Value.call(0xbba3a0, 0xc0002d2000, 0x10213, 0xbbd17b, 0x4, 0xc0003b1080, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba3a0, 0xc0002d2000, 0x10213, 0xc0003b1080, 0x3, 0x4, 0xc0003b1080, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002d2010, 0xc000202470, 0xa, 0xc0001fa7e0, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002d2010, 0xc000202470, 0xa, 0xc0001fa7e0, 0x15, 0x15, 0x0, 0x10, 0xc0002cbed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002d2010, 0xc0001d8dc0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002d2010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:38:05.437 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:38:05.437 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:38:05.437 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc0000df380]
2019-10-30 18:38:05.444 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:38:05.445 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:38:05.445 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:38:05.445 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:38:06.439 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:38:06.439 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:38:08.439 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:38:08.439 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:38:10.439 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:38:10.439 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:38:11.131 [DBG] [app.go:158] App.destory
2019-10-30 18:38:11.131 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:38:11.133 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:38:11.144 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:38:11.144 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:38:11.144 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:38:11.144 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:38:11.147 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:38:11.148 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:38:11.148 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:38:11.148 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:38:11.148 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:38:11.148 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:38:11.149 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:40:08.673 [INF] [app.go:204] services[gateway team]
2019-10-30 18:40:08.744 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:40:08.744 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:40:08.745 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:40:08.854 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:40:08.854 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:40:08.854 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:40:08.854 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:40:08.855 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:40:08.855 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:40:08.855 [DBG] [localService.go:68] service check : team
2019-10-30 18:40:08.855 [DBG] [localService.go:96] service check success: team
2019-10-30 18:40:08.855 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:40:08.855 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:40:08.921 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:40:08.921 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:40:08.921 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000145420]
2019-10-30 18:40:11.703 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0000e3080
2019-10-30 18:40:11.703 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:40:11.703 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:40:11.703 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:40:11.703 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:40:11.703 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:40:11.703 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:40:11.704 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:40:11.72 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:40:11.722 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:40:11.722 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:40:11.722 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:40:11.722 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:40:11.749 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:40:11.793 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:40:11.805 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:40:11.807 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:40:11.834 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:40:11.834 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:40:11.835 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:40:11.836 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:40:11.836 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:40:11.838 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:40:11.838 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:40:11.838 [DBG] [GatewayUserRpc.go:64] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{yekoufeng [] [2 3]} ,heros: &map[Axiang:{Axiang 1 1 0 0 21011005} Caozhi:{Caozhi 1 1 0 0 21051007} Liubei:{Liubei 1 1 210 0 21041007} Luke:{Luke 1 1 0 0 21061007} Menghuo:{Menghuo 1 1 0 0 21031007} Sumo:{Sumo 1 1 0 0 21021007} Xiahoudun:{Xiahoudun 1 1 0 0 1} Zhangjiao:{Zhangjiao 1 1 0 0 21081007} Zuoci:{Zuoci 1 1 0 0 21071007} yekoufeng:{yekoufeng 2 0 0 0 0}]
2019-10-30 18:40:11.839 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:40:11.841 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:40:11.842 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:40:11.842 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:40:11.842 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:40:11.884 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:40:11.884 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:40:11.884 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc00018f900]
2019-10-30 18:40:12.921 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:40:12.921 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:40:14.921 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:40:14.921 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:40:15.084 [DBG] [app.go:158] App.destory
2019-10-30 18:40:15.084 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:40:15.085 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:40:15.091 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:40:15.091 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:40:15.091 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:40:15.092 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:40:15.095 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:40:15.095 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:40:15.095 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:40:15.095 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:40:15.095 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:40:15.095 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:40:15.096 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:41:07.46 [INF] [app.go:204] services[gateway team]
2019-10-30 18:41:07.53 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:41:07.531 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:41:07.531 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:41:07.64 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:41:07.64 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:41:07.641 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:41:07.641 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:41:07.641 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:41:07.642 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:41:07.642 [DBG] [localService.go:68] service check : team
2019-10-30 18:41:07.642 [DBG] [localService.go:96] service check success: team
2019-10-30 18:41:07.642 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:41:07.642 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:41:07.709 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:41:07.709 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:41:07.71 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000193d00]
2019-10-30 18:41:10.475 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0000fcab0
2019-10-30 18:41:10.475 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:41:10.475 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 2
2019-10-30 18:41:10.475 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: rating , sType: 2
2019-10-30 18:41:10.476 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Coin , sType: 2
2019-10-30 18:41:10.476 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Friends , sType: 2
2019-10-30 18:41:10.476 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Hero , sType: 2
2019-10-30 18:41:10.476 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:41:10.493 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:41:10.495 [DBG] [Entity_Props.go:257] loadFromDB, key is : Friends
2019-10-30 18:41:10.495 [DBG] [PropInfo.go:328] set prop val: [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0] name: Friends typename: FRIENDS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:41:10.495 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:41:10.495 [DBG] [Entity_Props.go:257] loadFromDB, key is : Coin
2019-10-30 18:41:10.499 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:41:10.502 [DBG] [Entity_Props.go:257] loadFromDB, key is : Hero
2019-10-30 18:41:10.502 [DBG] [PropInfo.go:328] set prop val: [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0] name: Hero typename: HEROS elems: [{_id {7 [93 10 239 87 162 254 3 97 124 184 221 26]}} {Friends {3 [91 0 0 0 2 77 121 70 114 105 101 110 100 115 78 97 109 101 0 10 0 0 0 121 101 107 111 117 102 101 110 103 0 4 77 121 70 114 105 101 110 100 115 68 98 105 100 0 5 0 0 0 0 4 65 112 112 108 121 70 114 105 101 110 100 115 68 98 105 100 0 19 0 0 0 16 48 0 2 0 0 0 16 49 0 3 0 0 0 0 0]}} {Coin {16 [171 31 0 0]}} {Level {16 [2 0 0 0]}} {Hero {3 [254 4 0 0 3 83 117 109 111 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 83 117 109 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 79 193 64 1 0 3 65 120 105 97 110 103 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 65 120 105 97 110 103 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 61 154 64 1 0 3 90 117 111 99 105 0 132 0 0 0 2 72 101 114 111 78 97 109 101 0 6 0 0 0 90 117 111 99 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 159 132 65 1 0 3 90 104 97 110 103 106 105 97 111 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 90 104 97 110 103 106 105 97 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 175 171 65 1 0 3 88 105 97 104 111 117 100 117 110 0 136 0 0 0 2 72 101 114 111 78 97 109 101 0 10 0 0 0 88 105 97 104 111 117 100 117 110 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 1 0 0 0 0 3 76 105 117 98 101 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 76 105 117 98 101 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 210 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 111 15 65 1 0 3 77 101 110 103 104 117 111 0 134 0 0 0 2 72 101 114 111 78 97 109 101 0 8 0 0 0 77 101 110 103 104 117 111 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 95 232 64 1 0 3 67 97 111 122 104 105 0 133 0 0 0 2 72 101 114 111 78 97 109 101 0 7 0 0 0 67 97 111 122 104 105 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 127 54 65 1 0 3 76 117 107 101 0 131 0 0 0 2 72 101 114 111 78 97 109 101 0 5 0 0 0 76 117 107 101 0 16 72 101 114 111 73 68 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 76 118 0 1 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 69 120 112 0 0 0 0 0 16 72 101 114 111 80 114 111 102 105 99 105 101 110 99 121 85 110 108 111 99 107 83 107 105 108 108 0 0 0 0 0 16 72 101 114 111 83 107 105 110 73 100 0 143 93 65 1 0 0]}}]
2019-10-30 18:41:10.502 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:41:10.503 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:41:10.512 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:41:10.52 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:41:10.52 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:41:10.521 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:41:10.522 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:41:10.522 [DBG] [Entity_Props.go:36] InitProp   begin3: prop name: Level , sType: 3
2019-10-30 18:41:10.523 [DBG] [Entity_Props.go:242] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:41:10.523 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 14 [running]:
runtime/debug.Stack(0xc00044b860, 0xaefd40, 0xc000468120)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc000019170, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefd40, 0xc000468120)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc0002e8010, 0xbbd227, 0x4, 0xaaa8e0, 0xc000105de0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:67 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002e8000, 0xc0003b0050, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x477
reflect.Value.call(0xbba3a0, 0xc0002e8000, 0x10213, 0xbbd17b, 0x4, 0xc0003ad5c0, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba3a0, 0xc0002e8000, 0x10213, 0xc0003ad5c0, 0x3, 0x4, 0xc0003ad5c0, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002e8010, 0xc000019170, 0xa, 0xc00001ab60, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002e8010, 0xc000019170, 0xa, 0xc00001ab60, 0x15, 0x15, 0x0, 0x10, 0xc00008fed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002e8010, 0xc0003fe180)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002e8010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:41:10.525 [DBG] [Entity_Props.go:257] loadFromDB, key is : Level
2019-10-30 18:41:10.528 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:41:10.528 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:41:10.533 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:41:10.562 [DBG] [Entity_Props.go:183] SyncProps len: 1
2019-10-30 18:41:10.562 [DBG] [Entity_Props.go:293] SyncProps len: 1
2019-10-30 18:41:10.562 [INF] [Entity_Props.go:302] prop saveMap: map[Friends:0xc00010ba00]
2019-10-30 18:41:11.709 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:41:11.709 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:41:13.709 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:41:13.709 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:41:15.709 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:41:15.709 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:41:17.709 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:41:17.709 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:41:19.709 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:41:19.709 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:41:19.808 [DBG] [app.go:158] App.destory
2019-10-30 18:41:19.808 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:41:19.81 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:41:19.82 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:41:19.82 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:41:19.82 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:41:19.822 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:41:19.823 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:41:19.824 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:41:19.824 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:41:19.825 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:41:19.829 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:41:19.831 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:41:19.831 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:41:19.831 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:41:19.831 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:44:24.488 [INF] [app.go:204] services[gateway team]
2019-10-30 18:44:24.56 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:44:24.56 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:44:24.56 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:44:24.694 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:44:24.694 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:44:24.694 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:44:24.695 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:44:24.695 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:44:24.696 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:44:24.696 [DBG] [localService.go:68] service check : team
2019-10-30 18:44:24.696 [DBG] [localService.go:96] service check success: team
2019-10-30 18:44:24.696 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:44:24.696 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:44:24.771 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:44:24.771 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc00005dca0]
2019-10-30 18:44:24.771 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:44:27.461 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0000f8b40
2019-10-30 18:44:27.461 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:44:27.462 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:44:27.479 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:44:27.482 [DBG] [Entity_Props.go:256] loadFromDB, key is : Friends
2019-10-30 18:44:27.482 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:44:27.482 [DBG] [Entity_Props.go:256] loadFromDB, key is : Coin
2019-10-30 18:44:27.482 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:44:27.482 [DBG] [Entity_Props.go:256] loadFromDB, key is : Hero
2019-10-30 18:44:27.482 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:44:27.483 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:44:27.483 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:44:27.483 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:44:27.483 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:44:27.484 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:44:27.484 [DBG] [EntityDef.go:234] aaaaaaaaa
2019-10-30 18:44:27.485 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:44:27.485 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:44:27.486 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 41 [running]:
runtime/debug.Stack(0xc00036b860, 0xaefd40, 0xc00037e810)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc000187d20, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefd40, 0xc00037e810)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc0002e8010, 0xbbd227, 0x4, 0xaaa8e0, 0xc000107e68)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:66 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc0002e8000, 0xc000187d30, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x477
reflect.Value.call(0xbba3a0, 0xc0002e8000, 0x10213, 0xbbd17b, 0x4, 0xc00018baa0, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba3a0, 0xc0002e8000, 0x10213, 0xc00018baa0, 0x3, 0x4, 0xc00018baa0, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc0002e8010, 0xc000187d20, 0xa, 0xc000188e40, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc0002e8010, 0xc000187d20, 0xa, 0xc000188e40, 0x15, 0x15, 0x0, 0x10, 0xc00035fed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc0002e8010, 0xc0002d8460)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc0002e8010)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:44:27.5 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:44:27.501 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:44:27.501 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:44:27.523 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:44:27.533 [DBG] [Entity_Props.go:182] SyncProps len: 1
2019-10-30 18:44:27.533 [DBG] [Entity_Props.go:292] SyncProps len: 1
2019-10-30 18:44:27.533 [INF] [Entity_Props.go:301] prop saveMap: map[Friends:0xc000135cc0]
2019-10-30 18:44:28.771 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:44:28.771 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:44:29.93 [DBG] [app.go:158] App.destory
2019-10-30 18:44:29.931 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:44:29.932 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:44:29.943 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:44:29.943 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:44:29.943 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:44:29.945 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:44:29.948 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:44:29.949 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:44:29.949 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:44:29.949 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:44:29.954 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:44:29.958 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:44:29.959 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:44:29.959 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:44:29.967 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:46:37.123 [INF] [app.go:204] services[gateway team]
2019-10-30 18:46:37.193 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:46:37.193 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:46:37.193 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:46:37.302 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:46:37.302 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:46:37.303 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:46:37.303 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:46:37.303 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:46:37.303 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:46:37.304 [DBG] [localService.go:68] service check : team
2019-10-30 18:46:37.304 [DBG] [localService.go:96] service check success: team
2019-10-30 18:46:37.304 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:46:37.304 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:46:37.374 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:46:37.374 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:46:37.374 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000004a00]
2019-10-30 18:46:40.103 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc000061b90
2019-10-30 18:46:40.103 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:46:40.103 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:46:40.119 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:46:40.123 [DBG] [Entity_Props.go:256] loadFromDB, key is : Friends
2019-10-30 18:46:40.123 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:46:40.123 [DBG] [Entity_Props.go:256] loadFromDB, key is : Coin
2019-10-30 18:46:40.123 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:46:40.123 [DBG] [Entity_Props.go:256] loadFromDB, key is : Hero
2019-10-30 18:46:40.123 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:46:40.126 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:46:40.126 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:46:40.126 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:46:40.126 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:46:40.128 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:46:40.128 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:46:40.128 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:46:40.128 [DBG] [EntityDef.go:234] aaaaaaaaa, pd.Type = uint32, reflect type : uint32
2019-10-30 18:46:40.13 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:46:40.132 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:46:40.143 [ERR] [RPCHandlers.go:94] doAsyncRPCMsg panic:prop type error Hero, methodName: ModifyAttr, goroutine 30 [running]:
runtime/debug.Stack(0xc00039f860, 0xaefd40, 0xc000336a50)
	D:/Go/src/runtime/debug/stack.go:24 +0xa4
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg.func1(0xc0000ea4c0, 0xa)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:93 +0x5e
panic(0xaefd40, 0xc000336a50)
	D:/Go/src/runtime/panic.go:522 +0x1c3
github.com/giant-tech/go-service/framework/entity.(*Entity).SetProp(0xc000088850, 0xbbd227, 0x4, 0xaaa8e0, 0xc0000062c0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity_Props.go:66 +0x4b1
entity-call-entity/src/entitydef.(*PlayerDef).SetHero(...)
	F:/t_work/go-service/examples/entity-call-entity/src/entitydef/PlayerDef.go:62
entity-call-entity/src/services/gateway/user.(*GatewayUser).RPCModifyAttr(0xc000088840, 0xc0000ea4d0, 0xb, 0x200000001)
	F:/t_work/go-service/examples/entity-call-entity/src/services/gateway/user/GatewayUserRpc.go:60 +0x477
reflect.Value.call(0xbba3a0, 0xc000088840, 0x10213, 0xbbd17b, 0x4, 0xc0002a2c60, 0x3, 0x4, 0x15, 0x15, ...)
	D:/Go/src/reflect/value.go:447 +0x468
reflect.Value.Call(0xbba3a0, 0xc000088840, 0x10213, 0xc0002a2c60, 0x3, 0x4, 0xc0002a2c60, 0x3, 0x4)
	D:/Go/src/reflect/value.go:308 +0xab
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).doAsyncRPCMsg(0xc000088850, 0xc0000ea4c0, 0xa, 0xc0000fc760, 0x15, 0x15, 0x0, 0x0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:114 +0x33d
github.com/giant-tech/go-service/framework/msghandler.(*RPCHandlers).DoRPCMsg(0xc000088850, 0xc0000ea4c0, 0xa, 0xc0000fc760, 0x15, 0x15, 0x0, 0x10, 0xc000351ed8)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/msghandler/RPCHandlers.go:82 +0xe4
github.com/giant-tech/go-service/framework/entity.(*Entity).ProcessCall(0xc000088850, 0xc0000e75e0)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entity.go:479 +0x8a
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run.func1()
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:79 +0x128
github.com/giant-tech/go-service/logic/gatewaybase/userbase.(*GateUserBase).Run(0xc000088850)
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/logic/gatewaybase/userbase/GateUserBase.go:84 +0x121
created by github.com/giant-tech/go-service/framework/entity.(*Entities).CreateEntityWithID
	C:/Users/yekoufeng/go/pkg/mod/gitlab.ztgame.com/tech/public/go-service/zeus@v0.0.30/framework/entity/Entities.go:187 +0x3c3

2019-10-30 18:46:40.144 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:46:40.146 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:46:40.176 [DBG] [Entity_Props.go:182] SyncProps len: 1
2019-10-30 18:46:40.176 [DBG] [Entity_Props.go:292] SyncProps len: 1
2019-10-30 18:46:40.176 [INF] [Entity_Props.go:301] prop saveMap: map[Friends:0xc000047140]
2019-10-30 18:46:41.374 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:46:41.374 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:46:43.374 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:46:43.374 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:46:45.014 [DBG] [app.go:158] App.destory
2019-10-30 18:46:45.014 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:46:45.015 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:46:45.027 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:46:45.027 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:46:45.027 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:46:45.031 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:46:45.032 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:46:45.035 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:46:45.037 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:46:45.039 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:46:45.04 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:46:45.04 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:46:45.04 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:46:45.04 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:46:45.041 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:50:06.829 [INF] [app.go:204] services[gateway team]
2019-10-30 18:50:06.899 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:50:06.9 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:50:06.9 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:50:07.015 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:50:07.015 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:50:07.016 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:50:07.016 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:50:07.016 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:50:07.017 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:50:07.017 [DBG] [localService.go:68] service check : team
2019-10-30 18:50:07.017 [DBG] [localService.go:96] service check success: team
2019-10-30 18:50:07.017 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:50:07.017 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:50:07.081 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:50:07.081 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:50:07.082 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc0002824c0]
2019-10-30 18:50:09.787 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc00026d050
2019-10-30 18:50:09.787 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:50:09.787 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:50:09.804 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:50:09.806 [DBG] [Entity_Props.go:256] loadFromDB, key is : Hero
2019-10-30 18:50:09.806 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:50:09.806 [DBG] [Entity_Props.go:256] loadFromDB, key is : Friends
2019-10-30 18:50:09.806 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:50:09.806 [DBG] [Entity_Props.go:256] loadFromDB, key is : Coin
2019-10-30 18:50:09.806 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:50:09.808 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:50:09.808 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:50:09.808 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:50:09.808 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:50:09.809 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:50:09.809 [DBG] [EntityDef.go:234] aaaaaaaaa, pd.Type = uint32, reflect type : uint32
2019-10-30 18:50:09.81 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:50:09.81 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:50:09.811 [DBG] [GatewayUserRpc.go:64] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{yekoufeng [] [2 3]} ,heros: &map[Axiang:{Axiang 1 1 0 0 21011005} Caozhi:{Caozhi 1 1 0 0 21051007} Liubei:{Liubei 1 1 210 0 21041007} Luke:{Luke 1 1 0 0 21061007} Menghuo:{Menghuo 1 1 0 0 21031007} Sumo:{Sumo 1 1 0 0 21021007} Xiahoudun:{Xiahoudun 1 1 0 0 1} Zhangjiao:{Zhangjiao 1 1 0 0 21081007} Zuoci:{Zuoci 1 1 0 0 21071007} yekoufeng:{yekoufeng 2 0 0 0 0}]
2019-10-30 18:50:09.824 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:50:09.825 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:50:09.825 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:50:09.825 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:50:09.858 [DBG] [Entity_Props.go:182] SyncProps len: 2
2019-10-30 18:50:09.858 [DBG] [Entity_Props.go:292] SyncProps len: 2
2019-10-30 18:50:09.858 [INF] [Entity_Props.go:301] prop saveMap: map[Friends:0xc0002a6800 Hero:0xc000168508]
2019-10-30 18:50:11.081 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:50:11.081 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:50:13.081 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:50:13.081 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:50:15.081 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:50:15.081 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:50:16.109 [DBG] [app.go:158] App.destory
2019-10-30 18:50:16.11 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:50:16.11 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:50:16.12 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:50:16.12 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:50:16.12 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:50:16.12 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:50:16.124 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:50:16.125 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:50:16.125 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:50:16.125 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:50:16.125 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:50:16.129 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:50:16.135 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:50:16.141 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:50:16.141 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:52:38.832 [INF] [app.go:204] services[gateway team]
2019-10-30 18:52:38.901 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:52:38.902 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:52:38.902 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:52:39.014 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:52:39.014 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:52:39.015 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:52:39.015 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:52:39.015 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:52:39.016 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:52:39.016 [DBG] [localService.go:68] service check : team
2019-10-30 18:52:39.016 [DBG] [localService.go:96] service check success: team
2019-10-30 18:52:39.016 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:52:39.016 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:52:39.08 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:52:39.08 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc00005d060]
2019-10-30 18:52:39.08 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:52:41.791 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0002e2300
2019-10-30 18:52:41.791 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:52:41.791 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:52:41.807 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:52:41.81 [DBG] [Entity_Props.go:256] loadFromDB, key is : Friends
2019-10-30 18:52:41.81 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:52:41.81 [DBG] [Entity_Props.go:256] loadFromDB, key is : Coin
2019-10-30 18:52:41.81 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:52:41.81 [DBG] [Entity_Props.go:256] loadFromDB, key is : Hero
2019-10-30 18:52:41.81 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:52:41.811 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:52:41.812 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:52:41.812 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:52:41.812 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:52:41.813 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:52:41.813 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = uint32
2019-10-30 18:52:41.813 [DBG] [EntityDef.go:235] aaaaaaaaa, pd.Type = uint32, reflect type : uint32
2019-10-30 18:52:41.813 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:52:41.813 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:52:41.815 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = <nil>
2019-10-30 18:52:41.815 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = <nil>
2019-10-30 18:52:41.815 [DBG] [GatewayUserRpc.go:64] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{yekoufeng [] [2 3]} ,heros: &map[Axiang:{Axiang 1 1 0 0 21011005} Caozhi:{Caozhi 1 1 0 0 21051007} Liubei:{Liubei 1 1 210 0 21041007} Luke:{Luke 1 1 0 0 21061007} Menghuo:{Menghuo 1 1 0 0 21031007} Sumo:{Sumo 1 1 0 0 21021007} Xiahoudun:{Xiahoudun 1 1 0 0 1} Zhangjiao:{Zhangjiao 1 1 0 0 21081007} Zuoci:{Zuoci 1 1 0 0 21071007} yekoufeng:{yekoufeng 2 0 0 0 0}]
2019-10-30 18:52:41.829 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:52:41.829 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:52:41.83 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:52:41.83 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:52:41.863 [DBG] [Entity_Props.go:182] SyncProps len: 2
2019-10-30 18:52:41.863 [DBG] [Entity_Props.go:292] SyncProps len: 2
2019-10-30 18:52:41.863 [INF] [Entity_Props.go:301] prop saveMap: map[Friends:0xc0001549c0 Hero:0xc00011a110]
2019-10-30 18:52:43.081 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:52:43.081 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:52:45.081 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:52:45.081 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:52:45.419 [DBG] [app.go:158] App.destory
2019-10-30 18:52:45.419 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:52:45.42 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:52:45.431 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:52:45.431 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:52:45.431 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:52:45.433 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:52:45.434 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:52:45.435 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:52:45.435 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:52:45.436 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:52:45.438 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:52:45.441 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:52:45.443 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:52:45.443 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:52:45.443 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
2019-10-30 18:57:35.504 [INF] [app.go:204] services[gateway team]
2019-10-30 18:57:35.578 [DBG] [app.go:125] App.init, appID: 4294967297
2019-10-30 18:57:35.578 [INF] [gatewayService.go:23] GatewayService OnInit
2019-10-30 18:57:35.578 [INF] [GatewayBase.go:25] GatewayBase OnInit
2019-10-30 18:57:35.693 [DBG] [GatewayBase.go:51] outer addr: 127.0.0.1:17000
2019-10-30 18:57:35.693 [DBG] [localService.go:68] service check : gateway
2019-10-30 18:57:35.693 [DBG] [localService.go:96] service check success: gateway
2019-10-30 18:57:35.693 [DBG] [localServiceMgr.go:56] App InitLocalService, name: gateway sid: 4294967298
2019-10-30 18:57:35.693 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967298 2 4294967297 map[]}
2019-10-30 18:57:35.694 [DBG] [teamService.go:22] ServiceBService.OnInit
2019-10-30 18:57:35.694 [DBG] [localService.go:68] service check : team
2019-10-30 18:57:35.694 [DBG] [localService.go:96] service check success: team
2019-10-30 18:57:35.694 [DBG] [localServiceMgr.go:56] App InitLocalService, name: team sid: 4294967299
2019-10-30 18:57:35.694 [DBG] [serviceProxyMgr.go:77] AddServiceProxy, serviceInfo: &{4294967299 3 4294967297 map[]}
2019-10-30 18:57:35.766 [DBG] [localService.go:210] run service , serviceName: gateway, serviceType: 2, ServerID: 4294967298 tickMS: 2000
2019-10-30 18:57:35.766 [DBG] [localService.go:210] run service , serviceName: team, serviceType: 3, ServerID: 4294967299 tickMS: 2000
2019-10-30 18:57:35.766 [INF] [gatewayService.go:53] GatewayService OnConnected, infovec = [0xc000193060]
2019-10-30 18:57:38.536 [DBG] [ProcGateway.go:49] Begin MsgProcLoginReq, UID: 1, sess: 0xc0001c5020
2019-10-30 18:57:38.536 [INF] [gatewayService.go:60] GatewayService OnLoginHandler, msg.UID = 1
2019-10-30 18:57:38.537 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Coin:1 Friends:1 Hero:1 Level:1 rating:1]
2019-10-30 18:57:38.553 [INF] [dbservice.go:59] connect MongoDB success, addr = mongodb://game:123456@192.168.133.33:27017/game
2019-10-30 18:57:38.557 [DBG] [Entity_Props.go:256] loadFromDB, key is : Friends
2019-10-30 18:57:38.557 [WRN] [PropInfo.go:328] prop complex type: FRIENDS
2019-10-30 18:57:38.557 [DBG] [Entity_Props.go:256] loadFromDB, key is : Coin
2019-10-30 18:57:38.557 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:57:38.557 [DBG] [Entity_Props.go:256] loadFromDB, key is : Hero
2019-10-30 18:57:38.557 [WRN] [PropInfo.go:328] prop complex type: HEROS
2019-10-30 18:57:38.559 [DBG] [GatewayUser.go:22] GatewayUser.OnUserInit, dbid: 1
2019-10-30 18:57:38.559 [DBG] [GatewayUserRpc.go:28] RPCHello, name: hello world, id: 1
2019-10-30 18:57:38.559 [DBG] [GatewayUserRpc.go:71] RPCCreateTeam, name: TestTeam
2019-10-30 18:57:38.559 [DBG] [teamServiceRPC.go:17] RPCCreateTeam: 
2019-10-30 18:57:38.56 [DBG] [GatewayUserRpc.go:38] RPCModifyAttr, name: change attr, index: 1 val: 2
2019-10-30 18:57:38.56 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = uint32, val stringuint32,  pd.TypeNameuint32
2019-10-30 18:57:38.56 [DBG] [EntityDef.go:235] aaaaaaaaa, pd.Type = uint32, reflect type : uint32
2019-10-30 18:57:38.56 [DBG] [Team.go:25] TeamName: test
2019-10-30 18:57:38.561 [DBG] [Entity_Props.go:241] loadFromDB MongoDBQueryOneWithSelect:  , PropDBName: game , PropTableName: player , selectPropsmap[Level:1]
2019-10-30 18:57:38.562 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = <nil>, val string*entitydef.FRIENDS,  pd.TypeNameFRIENDS
2019-10-30 18:57:38.562 [DBG] [EntityDef.go:233] bbbbbbb, pd.Type = <nil>, val string*map[string]entitydef.HEROINFO,  pd.TypeNameHEROS
2019-10-30 18:57:38.562 [DBG] [GatewayUserRpc.go:64] RPCModifyAttr, name: change attr, index: 1 val: 2 ,selectProps: map[Friends:1] ,ret: map[Friends:map[ApplyFriendsDbid:[2 3] MyFriendsDbid:[] MyFriendsName:yekoufeng] _id:ObjectIdHex("5d0aef57a2fe03617cb8dd1a")] ,friends: &{yekoufeng [] [2 3]} ,heros: &map[Axiang:{Axiang 1 1 0 0 21011005} Caozhi:{Caozhi 1 1 0 0 21051007} Liubei:{Liubei 1 1 210 0 21041007} Luke:{Luke 1 1 0 0 21061007} Menghuo:{Menghuo 1 1 0 0 21031007} Sumo:{Sumo 1 1 0 0 21021007} Xiahoudun:{Xiahoudun 1 1 0 0 1} Zhangjiao:{Zhangjiao 1 1 0 0 21081007} Zuoci:{Zuoci 1 1 0 0 21071007} yekoufeng:{yekoufeng 2 0 0 0 0}]
2019-10-30 18:57:38.576 [DBG] [Entity_Props.go:256] loadFromDB, key is : Level
2019-10-30 18:57:38.576 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:57:38.577 [DBG] [TeamUser.go:25] PlayerName: Jim
2019-10-30 18:57:38.577 [DBG] [GatewayUserRpc.go:84] RPCCreateTeamResult, teamID: 4294967300
2019-10-30 18:57:38.609 [DBG] [Entity_Props.go:182] SyncProps len: 2
2019-10-30 18:57:38.609 [DBG] [Entity_Props.go:292] SyncProps len: 2
2019-10-30 18:57:38.609 [INF] [Entity_Props.go:301] prop saveMap: map[Friends:0xc000047140 Hero:0xc000007998]
2019-10-30 18:57:39.767 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:57:39.767 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:57:41.767 [DBG] [Team.go:32] Team.OnLoop
2019-10-30 18:57:41.767 [DBG] [TeamUser.go:31] TeamUser.OnLoop
2019-10-30 18:57:41.895 [DBG] [app.go:158] App.destory
2019-10-30 18:57:41.895 [DBG] [teamService.go:36] ServiceBService.OnDestroy
2019-10-30 18:57:41.896 [DBG] [Team.go:38] OnDestroy
2019-10-30 18:57:41.907 [DBG] [TeamUser.go:35] OnDestroy
2019-10-30 18:57:41.907 [INF] [gatewayService.go:42] GatewayService OnDestroy
2019-10-30 18:57:41.907 [INF] [GatewayBase.go:60] GatewayBase OnDestroy
2019-10-30 18:57:41.907 [DBG] [Entity_MsgProc.go:10] RPCSyncSrvInfo, ID: 1
2019-10-30 18:57:41.908 [ERR] [arq_listener.go:162] accept connection error accept tcp [::]:17000: use of closed network connection
2019-10-30 18:57:41.911 [INF] [GateUserBase.go:125] Logout(), id: 1
2019-10-30 18:57:41.914 [DBG] [GatewayUser.go:33] GatewayUser.OnUserFini, dbid: 1
2019-10-30 18:57:41.919 [DBG] [serviceProxyMgr.go:60] SProxyMgr, DelServiceByAppID : 4294967297
2019-10-30 18:57:41.921 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967298
2019-10-30 18:57:41.921 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967298
2019-10-30 18:57:41.921 [DBG] [serviceProxyMgr.go:121] DelServiceByID, serviceID: 4294967299
2019-10-30 18:57:41.921 [DBG] [serviceProxyMgr.go:129] DelServiceByID succeed, serviceID: 4294967299
2019-10-30 18:57:41.921 [ERR] [arq_listener.go:162] accept connection error accept tcp 127.0.0.1:17010: use of closed network connection
